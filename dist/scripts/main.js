"use strict";function updateSplit(){var e=$("#preview0"),t=$("#preview1"),i=$("#preview2"),a=999999999.2,n=999999999.2,r=[];e.width()&&r.push(e),t.width()&&r.push(t),i.width()&&r.push(i);for(var h=0;h<r.length;h++){var u=r[h];a=Math.min(u.width(),a),n=Math.min(u.height(),n)}var p=parseInt($("input[name=folds]").val()),d=document.getElementById("output");d.width=a*r.length,d.height=n;for(var s=d.getContext("2d"),l=a/p,o=0;p>=o;o++)for(var v=l*o,f=0;f<r.length;f++){var g=r[f][0],w=l*(o*r.length+f);s.drawImage(g,v,0,l,n,w,0,l,n)}}function readURL(e,t){if(e.files&&e.files[0]){var i=new FileReader;i.onload=function(e){$(t).attr("src",e.target.result),updateSplit()},i.readAsDataURL(e.files[0])}}var $=window.jQuery;$("input[name=image0]").change(function(){readURL(this,"#preview0")}),$("input[name=image1]").change(function(){readURL(this,"#preview1")}),$("input[name=image2]").change(function(){readURL(this,"#preview2")}),$("input[name=folds]").keyup(function(){var e=$(this).val();e&&!isNaN(e)&&updateSplit()});